<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@faiss-node/native API Documentation - v0.1.2</title><meta name="description" content="Documentation for @faiss-node/native API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@faiss-node/native API Documentation - v0.1.2</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@faiss-node/native API Documentation - v0.1.2</h2></div><div class="tsd-panel tsd-typography"><a id="md:faiss-nodenative" class="tsd-anchor"></a><h1><a href="#md:faiss-nodenative">@faiss-node/native</a></h1><p><a href="https://www.npmjs.com/package/@faiss-node/native"><img src="https://img.shields.io/npm/v/@faiss-node/native.svg" alt="npm version"></a>
<a href="https://nodejs.org/"><img src="https://img.shields.io/node/v/@faiss-node/native" alt="Node.js Version"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://anupammaurya6767.github.io/faiss-node-native/"><img src="https://img.shields.io/badge/docs-GitHub%20Pages-blue" alt="Documentation"></a></p>
<p>High-performance Node.js native bindings for <a href="https://github.com/facebookresearch/faiss">Facebook FAISS</a> - the industry-standard vector similarity search library. Built for production-ready semantic search, RAG applications, and vector databases.</p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li>ðŸš€ <strong>Async Operations</strong> - Non-blocking Promise-based API that never blocks the event loop</li>
<li>ðŸ”’ <strong>Thread-Safe</strong> - Mutex-protected concurrent operations for production workloads</li>
<li>ðŸ“¦ <strong>Multiple Index Types</strong> - FLAT_L2, IVF_FLAT, and HNSW with optimized defaults</li>
<li>ðŸ’¾ <strong>Persistence</strong> - Save/load indexes to disk or serialize to buffers</li>
<li>âš¡ <strong>High Performance</strong> - Direct C++ bindings with zero-copy data transfer</li>
<li>ðŸ§ª <strong>Well-Tested</strong> - 1000+ comprehensive tests covering edge cases</li>
<li>ðŸ“š <strong>TypeScript Support</strong> - Full type definitions included</li>
<li>ðŸ”§ <strong>Production-Ready</strong> - Memory-safe, error-handled, and battle-tested</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><a id="md:quick-install" class="tsd-anchor"></a><h3><a href="#md:quick-install">Quick Install</a></h3><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@faiss-node/native</span>
</code><button>Copy</button></pre>
<a id="md:prerequisites" class="tsd-anchor"></a><h3><a href="#md:prerequisites">Prerequisites</a></h3><p><strong>macOS:</strong></p>
<pre><code class="language-bash"><span class="hl-0">brew</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">cmake</span><span class="hl-1"> </span><span class="hl-2">libomp</span><span class="hl-1"> </span><span class="hl-2">openblas</span><span class="hl-1"> </span><span class="hl-2">faiss</span>
</code><button>Copy</button></pre>
<p><strong>Linux (Ubuntu/Debian):</strong></p>
<pre><code class="language-bash"><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-2">apt-get</span><span class="hl-1"> </span><span class="hl-2">update</span><br/><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-2">apt-get</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">-y</span><span class="hl-1"> </span><span class="hl-2">cmake</span><span class="hl-1"> </span><span class="hl-2">libopenblas-dev</span><span class="hl-1"> </span><span class="hl-2">libomp-dev</span><br/><span class="hl-4"># Build FAISS from source (see below)</span>
</code><button>Copy</button></pre>
<p><strong>Building FAISS from Source (Linux):</strong></p>
<pre><code class="language-bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/facebookresearch/faiss.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">faiss</span><br/><span class="hl-0">cmake</span><span class="hl-1"> </span><span class="hl-3">-B</span><span class="hl-1"> </span><span class="hl-2">build</span><span class="hl-1"> </span><span class="hl-3">-DFAISS_ENABLE_GPU=OFF</span><span class="hl-1"> </span><span class="hl-3">-DFAISS_ENABLE_PYTHON=OFF</span><br/><span class="hl-0">cmake</span><span class="hl-1"> </span><span class="hl-3">--build</span><span class="hl-1"> </span><span class="hl-2">build</span><span class="hl-1"> </span><span class="hl-3">-j</span><span class="hl-2">$(</span><span class="hl-0">nproc</span><span class="hl-2">)</span><br/><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-2">cmake</span><span class="hl-1"> </span><span class="hl-3">--install</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button>Copy</button></pre>
<a id="md:build-native-module" class="tsd-anchor"></a><h3><a href="#md:build-native-module">Build Native Module</a></h3><p>After installing prerequisites:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button>Copy</button></pre>
<a id="md:quick-start" class="tsd-anchor"></a><h2><a href="#md:quick-start">Quick Start</a></h2><pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-5">FaissIndex</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@faiss-node/native&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Create an index</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;FLAT_L2&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">128</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// Add vectors (single or batch)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">vectors</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-7">1.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">,  </span><span class="hl-4">// Vector 1</span><br/><span class="hl-1">  </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">1.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">,  </span><span class="hl-4">// Vector 2</span><br/><span class="hl-1">  </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">1.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">   </span><span class="hl-4">// Vector 3</span><br/><span class="hl-1">]);</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Search for nearest neighbors</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">([</span><span class="hl-7">1.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">, </span><span class="hl-7">0.0</span><span class="hl-1">]);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">query</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">);</span><br/><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Labels:&#39;</span><span class="hl-1">, </span><span class="hl-6">results</span><span class="hl-1">.</span><span class="hl-6">labels</span><span class="hl-1">);     </span><span class="hl-4">// Int32Array: [0, 1]</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Distances:&#39;</span><span class="hl-1">, </span><span class="hl-6">results</span><span class="hl-1">.</span><span class="hl-6">distances</span><span class="hl-1">); </span><span class="hl-4">// Float32Array: [0, 2]</span><br/><br/><span class="hl-4">// Cleanup</span><br/><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">dispose</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<a id="md:api-reference" class="tsd-anchor"></a><h2><a href="#md:api-reference">API Reference</a></h2><a id="md:constructor" class="tsd-anchor"></a><h3><a href="#md:constructor">Constructor</a></h3><p>Create a new FAISS index with the specified configuration.</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">(</span><span class="hl-6">config</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>config.type</code> (string, required): Index type - <code>&#39;FLAT_L2&#39;</code>, <code>&#39;IVF_FLAT&#39;</code>, or <code>&#39;HNSW&#39;</code></li>
<li><code>config.dims</code> (number, required): Vector dimensions (must be positive integer)</li>
<li><code>config.nlist</code> (number, optional): Number of clusters for IVF_FLAT (default: 100)</li>
<li><code>config.nprobe</code> (number, optional): Clusters to search for IVF_FLAT (default: 10)</li>
<li><code>config.M</code> (number, optional): Connections per node for HNSW (default: 16)</li>
<li><code>config.efConstruction</code> (number, optional): HNSW construction parameter (default: 200)</li>
<li><code>config.efSearch</code> (number, optional): HNSW search parameter (default: 50)</li>
</ul>
<p><strong>Examples:</strong></p>
<pre><code class="language-javascript"><span class="hl-4">// FLAT_L2 - Exact search (best for small datasets &lt; 10k vectors)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">flatIndex</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;FLAT_L2&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">128</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// IVF_FLAT - Fast approximate search (best for 10k - 1M vectors)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">ivfIndex</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;IVF_FLAT&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">  </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">768</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">nlist:</span><span class="hl-1"> </span><span class="hl-7">100</span><span class="hl-1">,    </span><span class="hl-4">// Number of clusters</span><br/><span class="hl-1">  </span><span class="hl-6">nprobe:</span><span class="hl-1"> </span><span class="hl-7">10</span><span class="hl-1">     </span><span class="hl-4">// Clusters to search (higher = more accurate, slower)</span><br/><span class="hl-1">});</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">ivfIndex</span><span class="hl-1">.</span><span class="hl-0">train</span><span class="hl-1">(</span><span class="hl-6">trainingVectors</span><span class="hl-1">);  </span><span class="hl-4">// Must train before adding vectors!</span><br/><br/><span class="hl-4">// HNSW - State-of-the-art approximate search (best for large datasets)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">hnswIndex</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;HNSW&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">  </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">1536</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">M:</span><span class="hl-1"> </span><span class="hl-7">16</span><span class="hl-1">,              </span><span class="hl-4">// Connections per node (higher = more accurate, slower)</span><br/><span class="hl-1">  </span><span class="hl-6">efConstruction:</span><span class="hl-1"> </span><span class="hl-7">200</span><span class="hl-1">, </span><span class="hl-4">// Construction parameter</span><br/><span class="hl-1">  </span><span class="hl-6">efSearch:</span><span class="hl-1"> </span><span class="hl-7">50</span><span class="hl-1">        </span><span class="hl-4">// Search parameter (higher = more accurate, slower)</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:methods" class="tsd-anchor"></a><h3><a href="#md:methods">Methods</a></h3><a id="md:addvectors-float32array-promiseltvoidgt" class="tsd-anchor"></a><h4><a href="#md:addvectors-float32array-promiseltvoidgt"><code>add(vectors: Float32Array): Promise&lt;void&gt;</code></a></h4><p>Add vectors to the index. Can add a single vector or a batch of vectors.</p>
<pre><code class="language-javascript"><span class="hl-4">// Single vector</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">([</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-7">3</span><span class="hl-1">, </span><span class="hl-7">4</span><span class="hl-1">]));</span><br/><br/><span class="hl-4">// Batch of vectors (4 vectors of 4 dimensions each)</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">,  </span><span class="hl-4">// Vector 1</span><br/><span class="hl-1">  </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">,  </span><span class="hl-4">// Vector 2</span><br/><span class="hl-1">  </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">,  </span><span class="hl-4">// Vector 3</span><br/><span class="hl-1">  </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">   </span><span class="hl-4">// Vector 4</span><br/><span class="hl-1">]));</span>
</code><button>Copy</button></pre>
<p><strong>Note:</strong> For IVF_FLAT indexes, you must call <code>train()</code> before adding vectors.</p>
<a id="md:searchquery-float32array-k-number-promiseltsearchresultsgt" class="tsd-anchor"></a><h4><a href="#md:searchquery-float32array-k-number-promiseltsearchresultsgt"><code>search(query: Float32Array, k: number): Promise&lt;SearchResults&gt;</code></a></h4><p>Search for k nearest neighbors.</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">([</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">]);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">query</span><span class="hl-1">, </span><span class="hl-7">5</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// results.distances: Float32Array of L2 distances</span><br/><span class="hl-4">// results.labels: Int32Array of vector indices</span>
</code><button>Copy</button></pre>
<p><strong>Returns:</strong></p>
<ul>
<li><code>distances</code> (Float32Array): L2 distances to nearest neighbors</li>
<li><code>labels</code> (Int32Array): Indices of nearest neighbors</li>
</ul>
<a id="md:searchbatchqueries-float32array-k-number-promiseltsearchresultsgt" class="tsd-anchor"></a><h4><a href="#md:searchbatchqueries-float32array-k-number-promiseltsearchresultsgt"><code>searchBatch(queries: Float32Array, k: number): Promise&lt;SearchResults&gt;</code></a></h4><p>Perform batch search for multiple queries efficiently.</p>
<pre><code class="language-javascript"><span class="hl-4">// 3 queries of 4 dimensions each</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">queries</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">,  </span><span class="hl-4">// Query 1</span><br/><span class="hl-1">  </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">,  </span><span class="hl-4">// Query 2</span><br/><span class="hl-1">  </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">   </span><span class="hl-4">// Query 3</span><br/><span class="hl-1">]);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">searchBatch</span><span class="hl-1">(</span><span class="hl-6">queries</span><span class="hl-1">, </span><span class="hl-7">5</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// results.distances: Float32Array of shape [3 * 5]</span><br/><span class="hl-4">// results.labels: Int32Array of shape [3 * 5]</span>
</code><button>Copy</button></pre>
<a id="md:trainvectors-float32array-promiseltvoidgt" class="tsd-anchor"></a><h4><a href="#md:trainvectors-float32array-promiseltvoidgt"><code>train(vectors: Float32Array): Promise&lt;void&gt;</code></a></h4><p>Train an IVF_FLAT index. Required before adding vectors.</p>
<pre><code class="language-javascript"><span class="hl-4">// Training vectors (typically 10k-100k vectors)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">trainingVectors</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">(</span><span class="hl-4">/* ... */</span><span class="hl-1">);</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">ivfIndex</span><span class="hl-1">.</span><span class="hl-0">train</span><span class="hl-1">(</span><span class="hl-6">trainingVectors</span><span class="hl-1">);</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">ivfIndex</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">dataVectors</span><span class="hl-1">);  </span><span class="hl-4">// Now you can add vectors</span>
</code><button>Copy</button></pre>
<a id="md:setnprobenprobe-number-promiseltvoidgt" class="tsd-anchor"></a><h4><a href="#md:setnprobenprobe-number-promiseltvoidgt"><code>setNprobe(nprobe: number): Promise&lt;void&gt;</code></a></h4><p>Set the number of clusters to search for IVF_FLAT indexes.</p>
<pre><code class="language-javascript"><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">ivfIndex</span><span class="hl-1">.</span><span class="hl-0">setNprobe</span><span class="hl-1">(</span><span class="hl-7">20</span><span class="hl-1">);  </span><span class="hl-4">// Search more clusters (more accurate, slower)</span>
</code><button>Copy</button></pre>
<a id="md:getstats-indexstats" class="tsd-anchor"></a><h4><a href="#md:getstats-indexstats"><code>getStats(): IndexStats</code></a></h4><p>Get index statistics.</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">stats</span><span class="hl-1"> = </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">getStats</span><span class="hl-1">();</span><br/><span class="hl-4">// {</span><br/><span class="hl-4">//   ntotal: number,      // Total vectors in index</span><br/><span class="hl-4">//   dims: number,        // Vector dimensions</span><br/><span class="hl-4">//   isTrained: boolean,  // Whether index is trained (IVF only)</span><br/><span class="hl-4">//   type: string         // Index type</span><br/><span class="hl-4">// }</span>
</code><button>Copy</button></pre>
<a id="md:savefilename-string-promiseltvoidgt" class="tsd-anchor"></a><h4><a href="#md:savefilename-string-promiseltvoidgt"><code>save(filename: string): Promise&lt;void&gt;</code></a></h4><p>Save index to disk.</p>
<pre><code class="language-javascript"><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">save</span><span class="hl-1">(</span><span class="hl-2">&#39;./my-index.faiss&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:static-loadfilename-string-promiseltfaissindexgt" class="tsd-anchor"></a><h4><a href="#md:static-loadfilename-string-promiseltfaissindexgt"><code>static load(filename: string): Promise&lt;FaissIndex&gt;</code></a></h4><p>Load index from disk.</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">FaissIndex</span><span class="hl-1">.</span><span class="hl-0">load</span><span class="hl-1">(</span><span class="hl-2">&#39;./my-index.faiss&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:tobuffer-promiseltbuffergt" class="tsd-anchor"></a><h4><a href="#md:tobuffer-promiseltbuffergt"><code>toBuffer(): Promise&lt;Buffer&gt;</code></a></h4><p>Serialize index to a Node.js Buffer (useful for databases, network transfer, etc.).</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">buffer</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">toBuffer</span><span class="hl-1">();</span><br/><span class="hl-4">// Store in database, send over network, etc.</span>
</code><button>Copy</button></pre>
<a id="md:static-frombufferbuffer-buffer-promiseltfaissindexgt" class="tsd-anchor"></a><h4><a href="#md:static-frombufferbuffer-buffer-promiseltfaissindexgt"><code>static fromBuffer(buffer: Buffer): Promise&lt;FaissIndex&gt;</code></a></h4><p>Deserialize index from Buffer.</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">FaissIndex</span><span class="hl-1">.</span><span class="hl-0">fromBuffer</span><span class="hl-1">(</span><span class="hl-6">buffer</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:mergefromotherindex-faissindex-promiseltvoidgt" class="tsd-anchor"></a><h4><a href="#md:mergefromotherindex-faissindex-promiseltvoidgt"><code>mergeFrom(otherIndex: FaissIndex): Promise&lt;void&gt;</code></a></h4><p>Merge vectors from another index into this index.</p>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index1</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;FLAT_L2&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">128</span><span class="hl-1"> });</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index2</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;FLAT_L2&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">128</span><span class="hl-1"> });</span><br/><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index1</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors1</span><span class="hl-1">);</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index2</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors2</span><span class="hl-1">);</span><br/><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index1</span><span class="hl-1">.</span><span class="hl-0">mergeFrom</span><span class="hl-1">(</span><span class="hl-6">index2</span><span class="hl-1">);  </span><span class="hl-4">// index1 now contains vectors from both</span><br/><span class="hl-4">// Note: index2 is now empty (FAISS behavior)</span>
</code><button>Copy</button></pre>
<a id="md:dispose-void" class="tsd-anchor"></a><h4><a href="#md:dispose-void"><code>dispose(): void</code></a></h4><p>Explicitly dispose of the index and free resources. Optional - automatic on garbage collection.</p>
<pre><code class="language-javascript"><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">dispose</span><span class="hl-1">();</span><br/><span class="hl-4">// Index is now unusable - all operations will throw errors</span>
</code><button>Copy</button></pre>
<a id="md:choosing-the-right-index-type" class="tsd-anchor"></a><h2><a href="#md:choosing-the-right-index-type">Choosing the Right Index Type</a></h2><a id="md:flat_l2-indexflatl2" class="tsd-anchor"></a><h3><a href="#md:flat_l2-indexflatl2">FLAT_L2 (IndexFlatL2)</a></h3><ul>
<li><strong>Best for:</strong> Small datasets (&lt; 10k vectors), exact search required</li>
<li><strong>Speed:</strong> O(n) per query - linear scan</li>
<li><strong>Accuracy:</strong> 100% recall (exact results)</li>
<li><strong>Memory:</strong> 4 Ã— dims Ã— n bytes</li>
<li><strong>Use case:</strong> Prototyping, small production datasets, when accuracy is critical</li>
</ul>
<a id="md:ivf_flat-indexivfflat" class="tsd-anchor"></a><h3><a href="#md:ivf_flat-indexivfflat">IVF_FLAT (IndexIVFFlat)</a></h3><ul>
<li><strong>Best for:</strong> Medium datasets (10k - 1M vectors), can tolerate ~90-95% recall</li>
<li><strong>Speed:</strong> O(nprobe Ã— n/nlist) per query - much faster than FLAT</li>
<li><strong>Accuracy:</strong> ~90-95% recall (configurable via nprobe)</li>
<li><strong>Memory:</strong> Similar to FLAT + cluster overhead</li>
<li><strong>Requires:</strong> Training on sample data before use</li>
<li><strong>Use case:</strong> Production systems with medium-sized datasets</li>
</ul>
<a id="md:hnsw-indexhnsw" class="tsd-anchor"></a><h3><a href="#md:hnsw-indexhnsw">HNSW (IndexHNSW)</a></h3><ul>
<li><strong>Best for:</strong> Large datasets (&gt; 100k vectors), best speed/accuracy tradeoff</li>
<li><strong>Speed:</strong> O(log n) per query - logarithmic search</li>
<li><strong>Accuracy:</strong> ~95-99% recall (configurable via efSearch)</li>
<li><strong>Memory:</strong> ~1.5-2Ã— more than FLAT</li>
<li><strong>No training required</strong></li>
<li><strong>Use case:</strong> Large-scale production systems, best overall performance</li>
</ul>
<a id="md:examples" class="tsd-anchor"></a><h2><a href="#md:examples">Examples</a></h2><a id="md:basic-semantic-search" class="tsd-anchor"></a><h3><a href="#md:basic-semantic-search">Basic Semantic Search</a></h3><pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-5">FaissIndex</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@faiss-node/native&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Create index for 768-dimensional embeddings (e.g., OpenAI)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;HNSW&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">768</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// Add document embeddings</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">documents</span><span class="hl-1"> = [</span><br/><span class="hl-1">  { </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">&quot;JavaScript is a programming language&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">&quot;Python is great for data science&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-6">text:</span><span class="hl-1"> </span><span class="hl-2">&quot;Node.js runs JavaScript on the server&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">embeddings</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">(</span><span class="hl-4">/* ... your embeddings ... */</span><span class="hl-1">);</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">embeddings</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Search for similar documents</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">queryEmbedding</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Float32Array</span><span class="hl-1">(</span><span class="hl-4">/* ... query embedding ... */</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">queryEmbedding</span><span class="hl-1">, </span><span class="hl-7">3</span><span class="hl-1">);</span><br/><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Most similar documents:&#39;</span><span class="hl-1">, </span><span class="hl-6">results</span><span class="hl-1">.</span><span class="hl-6">labels</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:rag-pipeline" class="tsd-anchor"></a><h3><a href="#md:rag-pipeline">RAG Pipeline</a></h3><pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-5">FaissIndex</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@faiss-node/native&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-9">RAGSystem</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">index</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;HNSW&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">1536</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">documents</span><span class="hl-1"> = [];</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">addDocuments</span><span class="hl-1">(</span><span class="hl-6">docs</span><span class="hl-1">, </span><span class="hl-6">embeddings</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">documents</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(...</span><span class="hl-6">docs</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">embeddings</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">queryEmbedding</span><span class="hl-1">, </span><span class="hl-6">k</span><span class="hl-1"> = </span><span class="hl-7">5</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">queryEmbedding</span><span class="hl-1">, </span><span class="hl-6">k</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-6">results</span><span class="hl-1">.</span><span class="hl-6">labels</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">idx</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">documents</span><span class="hl-1">[</span><span class="hl-6">idx</span><span class="hl-1">]);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">save</span><span class="hl-1">(</span><span class="hl-6">path</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">save</span><span class="hl-1">(</span><span class="hl-6">path</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">// Also save documents mapping</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:persistence" class="tsd-anchor"></a><h3><a href="#md:persistence">Persistence</a></h3><pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-5">FaissIndex</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@faiss-node/native&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Save to disk</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">({ </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;HNSW&#39;</span><span class="hl-1">, </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">128</span><span class="hl-1"> });</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors</span><span class="hl-1">);</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">save</span><span class="hl-1">(</span><span class="hl-2">&#39;./index.faiss&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Load from disk</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">loadedIndex</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">FaissIndex</span><span class="hl-1">.</span><span class="hl-0">load</span><span class="hl-1">(</span><span class="hl-2">&#39;./index.faiss&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Or serialize to buffer (for databases)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">buffer</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">toBuffer</span><span class="hl-1">();</span><br/><span class="hl-4">// Store in MongoDB, Redis, etc.</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">restoredIndex</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">FaissIndex</span><span class="hl-1">.</span><span class="hl-0">fromBuffer</span><span class="hl-1">(</span><span class="hl-6">buffer</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:performance-tips" class="tsd-anchor"></a><h2><a href="#md:performance-tips">Performance Tips</a></h2><ol>
<li><strong>Use HNSW for large datasets</strong> - Best overall performance</li>
<li><strong>Batch operations</strong> - Use <code>searchBatch()</code> for multiple queries</li>
<li><strong>Train IVF properly</strong> - Use 10k-100k training vectors</li>
<li><strong>Tune parameters</strong> - Increase <code>nprobe</code> (IVF) or <code>efSearch</code> (HNSW) for accuracy</li>
<li><strong>Reuse indexes</strong> - Save/load instead of recreating</li>
</ol>
<a id="md:thread-safety" class="tsd-anchor"></a><h2><a href="#md:thread-safety">Thread Safety</a></h2><p>All operations are thread-safe and can be called concurrently:</p>
<pre><code class="language-javascript"><span class="hl-4">// Safe to call from multiple async operations</span><br/><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors1</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors2</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">query1</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">query2</span><span class="hl-1">)</span><br/><span class="hl-1">]);</span>
</code><button>Copy</button></pre>
<p>The implementation uses mutex locks to ensure FAISS operations are serialized safely.</p>
<a id="md:error-handling" class="tsd-anchor"></a><h2><a href="#md:error-handling">Error Handling</a></h2><p>All methods throw JavaScript errors (not C++ exceptions):</p>
<pre><code class="language-javascript"><span class="hl-8">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-6">vectors</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-8">catch</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-8">if</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">.</span><span class="hl-6">message</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;disposed&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Index was disposed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-8">else</span><span class="hl-1"> </span><span class="hl-8">if</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">.</span><span class="hl-6">message</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;dimensions&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Vector dimensions mismatch&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:typescript-support" class="tsd-anchor"></a><h2><a href="#md:typescript-support">TypeScript Support</a></h2><p>Full TypeScript definitions are included:</p>
<pre><code class="language-typescript"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-6">FaissIndex</span><span class="hl-1">, </span><span class="hl-6">FaissIndexConfig</span><span class="hl-1">, </span><span class="hl-6">SearchResults</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@faiss-node/native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1">: </span><span class="hl-9">FaissIndexConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;HNSW&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">dims:</span><span class="hl-1"> </span><span class="hl-7">768</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">index</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">FaissIndex</span><span class="hl-1">(</span><span class="hl-6">config</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1">: </span><span class="hl-9">SearchResults</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-6">query</span><span class="hl-1">, </span><span class="hl-7">10</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:updating" class="tsd-anchor"></a><h2><a href="#md:updating">Updating</a></h2><p>To update to the latest version:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">update</span><span class="hl-1"> </span><span class="hl-2">@faiss-node/native</span>
</code><button>Copy</button></pre>
<p>Or install a specific version:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@faiss-node/native@0.1.2</span>
</code><button>Copy</button></pre>
<a id="md:development" class="tsd-anchor"></a><h2><a href="#md:development">Development</a></h2><a id="md:building-from-source" class="tsd-anchor"></a><h3><a href="#md:building-from-source">Building from Source</a></h3><pre><code class="language-bash"><span class="hl-4"># Clone repository</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/anupammaurya6767/faiss-node-native.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">faiss-node-native</span><br/><br/><span class="hl-4"># Install dependencies</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-4"># Build native module</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-4"># Run tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button>Copy</button></pre>
<a id="md:running-tests" class="tsd-anchor"></a><h3><a href="#md:running-tests">Running Tests</a></h3><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1">              </span><span class="hl-4"># All tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:unit</span><span class="hl-1">     </span><span class="hl-4"># Unit tests only</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:integration</span><span class="hl-1">  </span><span class="hl-4"># Integration tests only</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:ci</span><span class="hl-1">       </span><span class="hl-4"># CI tests (faster, no manual tests)</span>
</code><button>Copy</button></pre>
<a id="md:generating-documentation" class="tsd-anchor"></a><h3><a href="#md:generating-documentation">Generating Documentation</a></h3><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs</span><span class="hl-1">          </span><span class="hl-4"># Generate Doxygen documentation</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs:serve</span><span class="hl-1">    </span><span class="hl-4"># Serve docs locally at http://localhost:8000</span>
</code><button>Copy</button></pre>
<a id="md:documentation" class="tsd-anchor"></a><h2><a href="#md:documentation">Documentation</a></h2><ul>
<li><strong>API Documentation</strong>: <a href="https://anupammaurya6767.github.io/faiss-node-native/">GitHub Pages</a></li>
<li><strong>Examples</strong>: See <code>examples/</code> directory</li>
<li><strong>Contributing</strong>: See <a href="./CONTRIBUTING.md">CONTRIBUTING.md</a></li>
</ul>
<a id="md:comparison-with-other-packages" class="tsd-anchor"></a><h2><a href="#md:comparison-with-other-packages">Comparison with Other Packages</a></h2><a id="md:vs-faiss-node-ewfian" class="tsd-anchor"></a><h3><a href="#md:vs-faiss-node-ewfian">vs. <code>faiss-node</code> (ewfian)</a></h3><table>
<thead>
<tr>
<th>Feature</th>
<th>@faiss-node/native</th>
<th>faiss-node</th>
</tr>
</thead>
<tbody><tr>
<td>Async Operations</td>
<td>âœ… Promise-based</td>
<td>âŒ Synchronous (blocks event loop)</td>
</tr>
<tr>
<td>Thread Safety</td>
<td>âœ… Mutex-protected</td>
<td>âŒ Not thread-safe</td>
</tr>
<tr>
<td>API Design</td>
<td>âœ… High-level wrapper</td>
<td>âš ï¸ Low-level FAISS classes</td>
</tr>
<tr>
<td>TypeScript</td>
<td>âœ… Full support</td>
<td>âš ï¸ Partial</td>
</tr>
<tr>
<td>Testing</td>
<td>âœ… 1000+ tests</td>
<td>âš ï¸ Minimal</td>
</tr>
<tr>
<td>Production Ready</td>
<td>âœ… Yes</td>
<td>âš ï¸ Early stage</td>
</tr>
</tbody></table>
<a id="md:troubleshooting" class="tsd-anchor"></a><h2><a href="#md:troubleshooting">Troubleshooting</a></h2><a id="md:build-errors" class="tsd-anchor"></a><h3><a href="#md:build-errors">Build Errors</a></h3><p><strong>macOS: &quot;library not found&quot;</strong></p>
<pre><code class="language-bash"><span class="hl-4"># Ensure FAISS is installed</span><br/><span class="hl-0">brew</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">faiss</span><br/><br/><span class="hl-4"># Check installation</span><br/><span class="hl-0">ls</span><span class="hl-1"> </span><span class="hl-2">/usr/local/lib/libfaiss</span><span class="hl-3">*</span>
</code><button>Copy</button></pre>
<p><strong>Linux: &quot;faiss/Index.h: No such file or directory&quot;</strong></p>
<pre><code class="language-bash"><span class="hl-4"># Build and install FAISS from source (see Prerequisites)</span><br/><span class="hl-4"># Ensure CMAKE_INSTALL_PREFIX=/usr/local</span>
</code><button>Copy</button></pre>
<a id="md:runtime-errors" class="tsd-anchor"></a><h3><a href="#md:runtime-errors">Runtime Errors</a></h3><p><strong>&quot;Index has been disposed&quot;</strong></p>
<ul>
<li>You called <code>dispose()</code> or the index was garbage collected</li>
<li>Create a new index or don&#39;t dispose until done</li>
</ul>
<p><strong>&quot;Vector dimensions don&#39;t match&quot;</strong></p>
<ul>
<li>Check that your vectors are the correct size</li>
<li>For batch operations: <code>vectors.length % dims === 0</code></li>
</ul>
<a id="md:contributing" class="tsd-anchor"></a><h2><a href="#md:contributing">Contributing</a></h2><p>Contributions are welcome! Please see <a href="./CONTRIBUTING.md">CONTRIBUTING.md</a> for guidelines.</p>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>MIT License - see <a href="./LICENSE">LICENSE</a> file for details.</p>
<a id="md:author" class="tsd-anchor"></a><h2><a href="#md:author">Author</a></h2><p><strong>Anupam Maurya</strong></p>
<ul>
<li>GitHub: <a href="https://github.com/anupammaurya6767">@anupammaurya6767</a></li>
<li>Email: <a href="mailto:anupammaurya6767@gmail.com">anupammaurya6767@gmail.com</a></li>
</ul>
<a id="md:acknowledgments" class="tsd-anchor"></a><h2><a href="#md:acknowledgments">Acknowledgments</a></h2><ul>
<li>Built on <a href="https://github.com/facebookresearch/faiss">Facebook FAISS</a> - the amazing vector similarity search library</li>
<li>Inspired by the need for high-performance vector search in Node.js</li>
<li>Thanks to the open-source community for feedback and contributions</li>
</ul>
<hr>
<p>Made with â¤ï¸ for the Node.js community</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:faiss-nodenative"><span>@faiss-<wbr/>node/native</span></a><ul><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><ul><li><a href="#md:quick-install"><span>Quick <wbr/>Install</span></a></li><li><a href="#md:prerequisites"><span>Prerequisites</span></a></li><li><a href="#md:build-native-module"><span>Build <wbr/>Native <wbr/>Module</span></a></li></ul></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#md:api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#md:constructor"><span>Constructor</span></a></li><li><a href="#md:methods"><span>Methods</span></a></li><li><ul><li><a href="#md:addvectors-float32array-promiseltvoidgt"><span>add(vectors: <wbr/>Float32<wbr/>Array): <wbr/>Promise&lt;void&gt;</span></a></li><li><a href="#md:searchquery-float32array-k-number-promiseltsearchresultsgt"><span>search(query: <wbr/>Float32<wbr/>Array, k: number): <wbr/>Promise&lt;<wbr/>Search<wbr/>Results&gt;</span></a></li><li><a href="#md:searchbatchqueries-float32array-k-number-promiseltsearchresultsgt"><span>search<wbr/>Batch(queries: <wbr/>Float32<wbr/>Array, k: number): <wbr/>Promise&lt;<wbr/>Search<wbr/>Results&gt;</span></a></li><li><a href="#md:trainvectors-float32array-promiseltvoidgt"><span>train(vectors: <wbr/>Float32<wbr/>Array): <wbr/>Promise&lt;void&gt;</span></a></li><li><a href="#md:setnprobenprobe-number-promiseltvoidgt"><span>set<wbr/>Nprobe(nprobe: number): <wbr/>Promise&lt;void&gt;</span></a></li><li><a href="#md:getstats-indexstats"><span>get<wbr/>Stats(): <wbr/>Index<wbr/>Stats</span></a></li><li><a href="#md:savefilename-string-promiseltvoidgt"><span>save(filename: string): <wbr/>Promise&lt;void&gt;</span></a></li><li><a href="#md:static-loadfilename-string-promiseltfaissindexgt"><span>static load(filename: string): <wbr/>Promise&lt;<wbr/>Faiss<wbr/>Index&gt;</span></a></li><li><a href="#md:tobuffer-promiseltbuffergt"><span>to<wbr/>Buffer(): <wbr/>Promise&lt;<wbr/>Buffer&gt;</span></a></li><li><a href="#md:static-frombufferbuffer-buffer-promiseltfaissindexgt"><span>static from<wbr/>Buffer(buffer: <wbr/>Buffer): <wbr/>Promise&lt;<wbr/>Faiss<wbr/>Index&gt;</span></a></li><li><a href="#md:mergefromotherindex-faissindex-promiseltvoidgt"><span>merge<wbr/>From(other<wbr/>Index: <wbr/>Faiss<wbr/>Index): <wbr/>Promise&lt;void&gt;</span></a></li><li><a href="#md:dispose-void"><span>dispose(): void</span></a></li></ul></li></ul></li><li><a href="#md:choosing-the-right-index-type"><span>Choosing the <wbr/>Right <wbr/>Index <wbr/>Type</span></a></li><li><ul><li><a href="#md:flat_l2-indexflatl2"><span>FLAT_<wbr/>L2 (<wbr/>Index<wbr/>Flat<wbr/>L2)</span></a></li><li><a href="#md:ivf_flat-indexivfflat"><span>IVF_<wbr/>FLAT (<wbr/>IndexIVFFlat)</span></a></li><li><a href="#md:hnsw-indexhnsw"><span>HNSW (<wbr/>IndexHNSW)</span></a></li></ul></li><li><a href="#md:examples"><span>Examples</span></a></li><li><ul><li><a href="#md:basic-semantic-search"><span>Basic <wbr/>Semantic <wbr/>Search</span></a></li><li><a href="#md:rag-pipeline"><span>RAG <wbr/>Pipeline</span></a></li><li><a href="#md:persistence"><span>Persistence</span></a></li></ul></li><li><a href="#md:performance-tips"><span>Performance <wbr/>Tips</span></a></li><li><a href="#md:thread-safety"><span>Thread <wbr/>Safety</span></a></li><li><a href="#md:error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#md:typescript-support"><span>Type<wbr/>Script <wbr/>Support</span></a></li><li><a href="#md:updating"><span>Updating</span></a></li><li><a href="#md:development"><span>Development</span></a></li><li><ul><li><a href="#md:building-from-source"><span>Building from <wbr/>Source</span></a></li><li><a href="#md:running-tests"><span>Running <wbr/>Tests</span></a></li><li><a href="#md:generating-documentation"><span>Generating <wbr/>Documentation</span></a></li></ul></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:comparison-with-other-packages"><span>Comparison with <wbr/>Other <wbr/>Packages</span></a></li><li><ul><li><a href="#md:vs-faiss-node-ewfian"><span>vs. faiss-<wbr/>node (ewfian)</span></a></li></ul></li><li><a href="#md:troubleshooting"><span>Troubleshooting</span></a></li><li><ul><li><a href="#md:build-errors"><span>Build <wbr/>Errors</span></a></li><li><a href="#md:runtime-errors"><span>Runtime <wbr/>Errors</span></a></li></ul></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:license"><span>License</span></a></li><li><a href="#md:author"><span>Author</span></a></li><li><a href="#md:acknowledgments"><span>Acknowledgments</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@faiss-node/native API Documentation - v0.1.2</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>